<%= content_for :head do %>
  <script defer src="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"></script>
  <script defer src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<% end %>
<h3 class="py-4">Visitor Analytics</h3>
<table class="table" id="visitor_table">
  <thead>
    <tr>
      <th scope="col">IP</th>
      <th scope="col">Landing Page</th>
      <th scope="col">Browser</th>
      <th scope="col">OS</th>
      <th scope="col">Device Type</th>
      <th scope="col">Country</th>
      <th scope="col">Region</th>
      <th scope="col">City</th>
      <th scope="col">Latitude</th>
      <th scope="col">Longitude</th>
      <th scope="col">Visited On</th>
    </tr>
  </thead>
  <tbody>
  	<% @visits.each do |visit| %>
	    <tr>
	      <th><%= visit.ip %></th>
	      <th><%= visit.landing_page %></th>
	      <th><%= visit.browser %></th>
	      <th><%= visit.os %></th>
	      <th><%= visit.device_type %></th>
	      <th><%= visit.country %></th>
	      <th><%= visit.region %></th>
	      <th><%= visit.city %></th>
	      <th><%= visit.latitude %></th>
	      <th><%= visit.longitude %></th>
	      <th><%= visit.started_at %></th>
	    </tr>
  	<% end %>
  </tbody>
</table>
<script type="text/javascript">
  $(document).ready(function () {
    $('#visitor_table').DataTable();
  });
</script>