<!DOCTYPE html>
<html>
  <head>
    <title>A'sTechware</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= favicon_link_tag asset_path('favicon.webp') %>

    <!-- <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css"> -->
    <!-- Bootstrap Minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Slick Slider CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick-theme.min.css">

    <!-- Google font Link -->
    <link href="https://fonts.googleapis.com/css2?family=Mukta+Vaani:wght@300;400;500;700;800&display=swap" rel="stylesheet">

    <!-- FontAwesome 4 CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/css/swiper.min.css'>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <%# <script src='https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/js/swiper.min.js'></script> %>
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

    <script src="https://cdn.testly.com/c9b9052f-de73-41e9-9cfa-abf02e50cf1e.js"></script>


    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <% javascript_importmap_tags %>
    <%= display_meta_tags site: "A'sTechware" %>
    <%= yield :head %>

  </head>

  <body>
    <div id="loader" class="h-100 w-100 position-fixed">
      <div class="row justify-content-center h-100 w-100 mx-0">
        <div class="col-6 align-selft-end">
            <div class="main-flipper mb-5">
              <div class="flip-container">
                <div class="flipper">
                  <div class="album-cover-container front">
                      <%= image_tag 'astechware-transparent-logo.webp', alt: "A'sTechware Transparent Logo" %>
                  </div>
                  <div class="back">
                    <div class="album-cover-container front">
                      <%= image_tag 'astechware-transparent-logo.webp', alt: "A'sTechware Transparent Logo" %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>
        <div id="quoteText" class="px-3 col-12 text-center">
          <blockquote></blockquote>
          <cite></cite>
        </div>
      </div>

    </div>
    <div id="wrapper" class="d-none">
      <%= render 'layouts/header' %>
      <%= yield %>
    </div>

    <script type="text/javascript">
      $(document).ready(function(){
        $(".nav-button").click(function(){
          $(this).toggleClass("cmenu");
        });

        $(".nav-button").click(function(){
          $("body").toggleClass("open-dropdown");
        });

        $(".share-btn").click(function(){
          $("body").toggleClass("social-active");
        });
      });

       $('.happy-cus-slider').slick({
         slidesToShow: 1,
         slidesToScroll: 1,
         arrows: false,
         dots: true,
         autoplay: true
       });

       $('.award-slider').slick({
         slidesToShow: 4,
         slidesToScroll: 1,
         arrows: false,
         dots: false,
         autoplay: true,
         autoplaySpeed: 1000,
       });

      // Params
      var mainSliderSelector = '.main-slider',
          interleaveOffset = 0.5;

      // Main Slider
      var mainSliderOptions = {
            loop: true,
            speed:1000,
            autoplay:{
              delay:3000
            },
            loopAdditionalSlides: 10,
            grabCursor: true,
            <%# watchSlidesProgress: true, %>
            navigation: {
              nextEl: '.swiper-button-next',
              prevEl: '.swiper-button-prev',
            },
            on: {
              init: function(){
                this.autoplay.stop();
              },
              slideChangeTransitionEnd: function(){
                var swiper = this,
                    captions = swiper.el.querySelectorAll('.caption');
                for (var i = 0; i < captions.length; ++i) {
                  captions[i].classList.remove('show');
                }
                  swiper.slides[swiper.activeIndex].querySelector('.caption').classList.add('show');
              },
              setTransition: function(speed) {
                var swiper = this;
                for (var i = 0; i < swiper.slides.length; i++) {
                  swiper.slides[i].style.transition = speed + "ms";
                  swiper.slides[i].querySelector(".slide-bgimg").style.transition =
                    speed + "ms";
                }
              }
            }
          };
      var mainSlider = new Swiper(mainSliderSelector, mainSliderOptions);

      // Matching sliders
      <%# mainSlider.controller.control = navSlider;
      function imageShow(img_show){
        document.getElementById(img_show).style.opacity = "1";
      }
      function imageHide(img_hide){
        document.getElementById(img_hide).style.opacity = "0";
      } %>
    </script>

    <%# Loader %>
    <script>
      const quoteArr = [
        {
          quote: "Dream big, start small, act now.", 
          by: "~ A'sTechware"
        },
        {
          quote: "Solve problems, create value, change lives.", 
          by: "~ A'sTechware"
        },
        {
          quote: "Innovate or die - disrupt or be disrupted.", 
          by: "~ A'sTechware"
        },
        {
          quote: "Think big, act fast, learn constantly.", 
          by: "~ A'sTechware"
        },
        {
          quote: "Don't wait for opportunities, create them.", 
          by: "~ A'sTechware"
        },
        {
          quote: "Fail often, fail fast, fail forward." , 
          by: "~ A'sTechware"
        },
        {
          quote: "Make something people want and need.", 
          by: "~ A'sTechware"
        },
        {
          quote: "Stay focused, stay hungry, stay humble.", 
          by: "~ A'sTechware"
        },
        {
          quote: "Start where you are, use what you have.", 
          by: "~ A'sTechware"
        },
        {
          quote: "Be the change you want to see." , 
          by: "~ A'sTechware"
        },
      ]
      document.onreadystatechange = function() {
          if (document.readyState !== "complete") {
            document.querySelector("#loader").style.visibility = "visible";
            var randomNumber = Math.floor(Math.random() * 10) + 1;
            $('#quoteText').find('blockquote').html(quoteArr[randomNumber].quote)
            $('#quoteText').find('cite').html(quoteArr[randomNumber].by)

          } else {
            document.querySelector("#loader").style.display = "none";
            document.querySelector("#wrapper").classList.remove('d-none');
          }
      };
  </script>

    <%= yield :footer_script %>
  </body>
</html>
